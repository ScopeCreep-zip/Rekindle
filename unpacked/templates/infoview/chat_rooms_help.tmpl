<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<style>
		%include styles/shared.css%
	</style>
	<script language="JavaScript">
		%include scripts/shared.js%

		function render_room_history()
		{
			var rooms = [ %chat_room_history_data% ];

			show_element("room_history_box", rooms.length != 0);
			
			var html = "";
			for (var i = 0; i < rooms.length; ++i)
			{
				html += "<div><a href=' ' href_type='join_room' room_name='" + rooms[i] + "'>" + rooms[i] + "</div>";
			}

			if (html.length)
			{
				var history_details = document.getElementById("room_history_details");
				if (history_details)
				{
					history_details.innerHTML = html;
				}
			}			
		}
	</script>
	
</head>

<body>
<table id='main_table' cellpadding='0' cellspacing='0' border='0' width='100%'><tr><td><!-- needed for scrollbar determination -->
<div id='wrap'>

	<div class='box'>
		<div class='box_title'>%chat_rooms_title%</div>
		<div class='box_details'>%chat_rooms_text%</div>
	</div>
	
	<div id='room_history_box' class='box'>
		<div class='box_title'>%text_chat_room_history%</div>
		<div id='room_history_details' class='box_details'>
			<!-- DYNAMICALLY LOADS ROOMS FROM HISTORY -->
		</div>
	</div>

	<script language="JavaScript">
	<!--
		render_room_history();
	//-->
	</script>

</div>
</td></tr></table>
</body>
</html>
